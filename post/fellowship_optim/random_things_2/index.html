<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Tam Le ">
<meta name="description" content="Khác với những bài viết trước, bài viết này sẽ có thể hơi lộn xộn vì đó cũng chính là tâm trạng của mình khi gõ những dòng này. Mình đã định không viết gì vào tuần này. Một phần vì mình không tìm được nguồn cảm hứng để viết (những bài viết trước mình luôn viết trong lúc cảm hứng rất dồi dào) và cũng vì mình cũng chưa nghĩ ra được một câu chuyện hoàn chỉnh và hay ho để kể cho mọi người." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/post/fellowship_optim/random_things_2/" />


    <title>
        
            The Fellowship of the Optim: Random things :: Hi! I&#39;m Tam Le  — Hello Friend NG Theme
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.17863a81d979b637a02cd7632a4d86e9d80563ef460fd6af1a56962efcaa066b.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">
    <meta name="theme-color" content="">



<meta itemprop="name" content="The Fellowship of the Optim: Random things">
<meta itemprop="description" content="Khác với những bài viết trước, bài viết này sẽ có thể hơi lộn xộn vì đó cũng chính là tâm trạng của mình khi gõ những dòng này. Mình đã định không viết gì vào tuần này. Một phần vì mình không tìm được nguồn cảm hứng để viết (những bài viết trước mình luôn viết trong lúc cảm hứng rất dồi dào) và cũng vì mình cũng chưa nghĩ ra được một câu chuyện hoàn chỉnh và hay ho để kể cho mọi người."><meta itemprop="datePublished" content="2021-04-23T19:20:42+07:00" />
<meta itemprop="dateModified" content="2021-04-23T19:20:42+07:00" />
<meta itemprop="wordCount" content="1430"><meta itemprop="image" content="/"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="The Fellowship of the Optim: Random things"/>
<meta name="twitter:description" content="Khác với những bài viết trước, bài viết này sẽ có thể hơi lộn xộn vì đó cũng chính là tâm trạng của mình khi gõ những dòng này. Mình đã định không viết gì vào tuần này. Một phần vì mình không tìm được nguồn cảm hứng để viết (những bài viết trước mình luôn viết trong lúc cảm hứng rất dồi dào) và cũng vì mình cũng chưa nghĩ ra được một câu chuyện hoàn chỉnh và hay ho để kể cho mọi người."/>




    <meta property="og:title" content="The Fellowship of the Optim: Random things" />
<meta property="og:description" content="Khác với những bài viết trước, bài viết này sẽ có thể hơi lộn xộn vì đó cũng chính là tâm trạng của mình khi gõ những dòng này. Mình đã định không viết gì vào tuần này. Một phần vì mình không tìm được nguồn cảm hứng để viết (những bài viết trước mình luôn viết trong lúc cảm hứng rất dồi dào) và cũng vì mình cũng chưa nghĩ ra được một câu chuyện hoàn chỉnh và hay ho để kể cho mọi người." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/fellowship_optim/random_things_2/" /><meta property="og:image" content="/"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-04-23T19:20:42+07:00" />
<meta property="article:modified_time" content="2021-04-23T19:20:42+07:00" />





    <meta property="article:section" content="Fellowship-Optim" />



    <meta property="article:published_time" content="2021-04-23 19:20:42 &#43;0700 &#43;07" />









    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CM967KRZK6"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-CM967KRZK6', { 'anonymize_ip': false });
}
</script>


    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">cd /home/incenger</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/page/aboutme">About</a></li><li><a href="/page/now">Now</a></li><li><a href="/post/">Posts</a></li><li><a href="/tags">Tags</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/post/fellowship_optim/random_things_2/">The Fellowship of the Optim: Random things</a></h2>

            
            
            

            <div class="post-content">
                <p>Khác với những bài viết trước, bài viết này sẽ có thể hơi lộn xộn vì đó cũng chính là tâm trạng của mình khi gõ những dòng này.
Mình đã định không viết gì vào tuần này. Một phần vì mình không tìm được nguồn cảm hứng để viết (những bài viết trước mình luôn viết trong lúc cảm hứng rất dồi dào) và cũng vì mình cũng chưa nghĩ ra được một câu chuyện hoàn chỉnh và hay ho để kể cho mọi người.
Nhưng mà, mình từng bảo mình sẽ viết dù không có ai đọc mà, vậy thì tại sao mình phải áp lực chính bản thân mình về nội dung của nó nhỉ? Cứ viết thôi :))).</p>
<p>Tuần này có những câu chuyện rời rạc, nhưng suy nghĩ còn dở dang của mình&hellip;</p>
<h3 id="fail-silently">Fail silently</h3>
<p>&ldquo;Neural network fails silently&rdquo;<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>  - mình đã trải nghiệm điều này khá nhiều lần, và tuần này mình vừa được trải nghiệm nó thêm một lần nữa =)))</p>
<p>Trong quá trình phát triển segmentation model, mình có viết một đoạn code nhỏ để tính pixel-level accuracy giữa predicted mask và groundtruth mask. Thụât toán thì cũng không có gì phức tạp, chỉ cần đọc vào ảnh và groundtruth tương ứng, chuyển chúng thành numpy array và so sánh pixel-wise là được. Vì nó đơn giản nên mình cũng không nghĩ là nó sẽ có bug :((</p>
<p>Đoạn code mình tính average accuracy như thế này:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
avg_acc <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>average(seg_mask <span style="color:#f92672">==</span> gt_mask)

</code></pre></div><p>Khi chạy code thì mình nhận được một warning như thế này</p>
<p><code>DeprecationWarning: elementwise comparison failed; this will raise an error in the future.</code></p>
<p>Vì nó là <code>DeprecationWarning</code> và kết quả average trên tất cả các ảnh cũng ra một con số có nghĩa nên là mình cũng không để tâm lắm. Mình có để ý là kết quả evaluation hơi thấp hơn mình mong đợi. Mình nghĩ là chắc do đây là  baseline model, và mình đã dành thời gian để cải thiện phần model training với mục đích tăng kết quả evaluation lên. Sau khi mình implement một số kĩ thuật training tốt hơn, kết quả evaluation có tăng nhưng không đáng kể và nó vẫn thấp hơn mình mong đợi. Mình bắt đầu cảm thấy bối rối (mình nghĩ với ai làm về Deep Learning thì đều đã trải qua cảm giác này). Và những lúc bối rối như thế này, mình bắt đầu kiểm tra lại mọi thứ</p>
<ul>
<li>Data: Data mình lấy trực tiếp từ người khác, nên khả năng có lỗi cũng không cao, mà nếu có lỗi gì đó thì thường sẽ xảy ra lúc training mà training ổn nên tạm coi như data đã ổn.</li>
<li>Prediction của model: Visualize predicted segmentation mask thì mình vẫn thấy không có vấn đề gì.</li>
<li>Kiểm tra colorspace của predicted mask và groundtruth mask đã giống nhau chưa. Cả hai đã giống nhau, đều là grayscale image.</li>
<li>Ơ thế thì không lẽ model của mình có vấn đề &hellip;., cái này là ít khả năng nhất, và nếu debug thì sẽ tốn rất nhiều thời gian :(((</li>
</ul>
<p>Tới đây mình bắt đầu cảm thấy hơi hoang mang, và trong những lúc như vậy mình quyết định làm mọi thứ cực kì cẩn thận. Mình nhớ đến cái warning khi này, mặc dù biết là nó cũng không liên quan gì nhưng mình quyết định cứ refactor lại nó (vì mình cũng chưa biết làm gì tiếp). Thế là mình search document của numpy và viết lại nó thành như thế này</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
avg_acc <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>average(np<span style="color:#f92672">.</span>equal(seg_mask, gt_mask))
</code></pre></div><p>Mình chạy lại code để đảm bảo cái warning đó đã mất đi. Đúng là nó mất đi thật, nhưng code của mình lại báo lỗi (•_•) (refactor xong xuất hiện thêm lỗi là có thật).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#a6e22e">ValueError</span>: operands could <span style="color:#f92672">not</span> be broadcast together <span style="color:#66d9ef">with</span> shapes (<span style="color:#ae81ff">433</span>,<span style="color:#ae81ff">577</span>) (<span style="color:#ae81ff">480</span>,<span style="color:#ae81ff">640</span>)

</code></pre></div><p>Ồ&hellip; hóa ra là vậy :(((. Data mình có vấn đề - size của input image và groundtruth mask bị sai lệch vài pixel. Và với 2 numpy array có shape khác nhau, khi thực hiện element-wise comparision như trên thì nó sẽ không báo lỗi mà trả về giá trị <code>False</code>, và khi pass <code>False</code> vào <code>np.average()</code> thì giá trị nhận được sẽ là <code>0.0</code>. I&rsquo;m fine ಥ_ಥ.</p>
<h3 id="im-stuck">I&rsquo;m stuck</h3>
<p>Mình hay làm những task của thesis (do mình đặt ra) vào buổi tối. Nhưng thường sau khi dành cả ngày để tập trung vào công việc của công ty, mình thường cảm thấy hơi cạn kiệt năng lượng và cảm hứng. Và khi phải đối mặt với những task cần sự tập trung và nhiều năng lượng như implement một model, code của mình nó sẽ trở nên như thế này &hellip;. Mặc dù biết là không tốt, nhưng lúc đó mình chỉ cần nó train được và losses trả về hợp lí là đươc :'(.</p>
<p><img src="/img/2021/random_things_2/dumb_block.png" alt=""></p>
<p><img src="/img/2021/random_things_2/dumb_net.png" alt=""></p>
<p>Mình đang bị kẹt trong việc phát triển model của mình. Thật ra đây không phải là lần đầu mình rơi vào tình trạng này. Đó là trạng thái sau khi bạn đã phát triển thành công một baseline model, thử một số phương pháp phổ biến nhất để cải thiện nó và đạt được một kết quả tạm chấp nhận được nhưng không phải là cái mà bạn đang mong đợi. Lúc đó, bạn sẽ phải trả lời câu hỏi &ldquo;What&rsquo;s next?&rdquo;. Đúng vậy, làm gì tiếp theo đây? Trước đây, mình thường hay giải quyết bằng cách thực hiện những thay đổi nhỏ trong hyperparameters, sau đó train lại và cầu nguyện cho nó hiệu quả. Phương pháp đó làm mình cảm thấy mình productive, vì mình vẫn đang làm gì đó, nhưng thật sự thì nó không hiệu quả lắm khi mà nếu model của bạn đã ổn định thì hầu như những thay đổi đó cũng không có ích gì mấy. Hiện tại mình đã đưa việc &ldquo;productive ảo&rdquo; này lên một tầm cao mới: thay vì chỉ thực hiện hyper-parameter tuning, mình suy nghĩ về việc tạo ra model khác bằng việc lắp ghép những ý tưởng khác nhau lại và implement tụi nó =)))). (Mình cảm thấy mình khá giỏi trong việc tự đánh lừa chính bản thân mình =))) ).</p>
<p>Việc productive một cách không thật sự productive như vậy càng làm mình cạn kiệt năng lượng. Mình nghĩ mình sẽ không lao đầu vào cái này nữa (rút kinh nghiệm từ những lần trước =))) ). Dự định của mình là &ldquo;đi chậm&rdquo; lại một tí, tạm gác những model qua một bên và tìm hiểu kĩ hơn về vấn đề mình cần giải quyết. Mình cần phải chấp nhận là mình sẽ tiến độ của mình sẽ chậm đi, nhưng mình hi vọng sau đó mình sẽ hiểu rõ hơn về những thí nghiệm mà mình muốn thử, thay vì làm một cách hơi &ldquo;mù quáng&rdquo; như bây giờ. Mình cảm thấy ngoài việc có progress, thì việc giữ được tinh thần bản thân ở một mức ổn cũng là việc thật sự cần thiết. Hôm nay mình đọc được một câu cũng khá là hay (trong một bài viết cũng khá là hay nốt), tiếp thêm cho mình một tí động lực để tạm dừng việc thử nghiệm ý tưởng một cách vô tội vạ này :)))</p>
<blockquote>
<p>All the very good researchers I know try lots of ideas. (Pure volume isn’t enough, they try their ideas with purpose, but they try a lot of ideas with purpose.)<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
</blockquote>
<h3 id="this-makes-my-day">This makes my day</h3>
<p>Trong những ngày tâm trạng không ổn lắm như thế này, mình vô tình tìm được một thread Reddit rất hay mà mình tìm kiếm bấy lâu nay. Mình hay tìm kiếm những newsletter và blog liên quan đến AI, Deep Learning, và Machine Learning để có thể cập những kiến thức và công nghệ mới. Hiện tại thì mình đã có vài trang, nhưng cảm thấy vẫn không ổn lắm. Và khi mình đang nằm trên giường và lướt qua thread này, mình phải bật dậy và lập tức bookmark lại từng mục trong đó ngay lập tức :))). Đây là một thread tổng hợp lại những blogs, newsletter, youtube channels, paper summary, &hellip; từ những researchers và các tổ chức hàng đầu về AI. Nếu các bạn cũng đang cần tìm thì có thể xem <a href="https://www.reddit.com/r/MachineLearning/comments/mwwftu/d_your_favorite_ai_podcasts_blogs_newsletters/?utm_source=share&amp;utm_medium=web2x&amp;context=3">ở đây</a> nhé.</p>
<p>Tuần này như vậy thôi, hẹn gặp lại các bạn vào những bài viết tiếp theo \ (•◡•) /.</p>
<hr>
<blockquote>
<p>Các bạn có thể tìm đọc tất cả bài viết của series này tại <a href="https://incenger.github.io/categories/fellowship-optim/">đây</a>.</p>
</blockquote>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="http://karpathy.github.io/2019/04/25/recipe/">http://karpathy.github.io/2019/04/25/recipe/</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://www.alexirpan.com/2021/04/07/grad-school-5years.html">https://www.alexirpan.com/2021/04/07/grad-school-5years.html</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="/categories/fellowship-optim/">Fellowship-Optim</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="/">Tam Le</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Theme by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
